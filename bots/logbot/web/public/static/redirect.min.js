!function(t){"use strict";function e(t){return void 0!==c[t]}function s(){n.call(this),this._isInvalid=!0}function i(t){return""==t&&s.call(this),t.toLowerCase()}function a(t){var e=t.charCodeAt(0);return e>32&&e<127&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function h(t){var e=t.charCodeAt(0);return e>32&&e<127&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function r(t,r,n){function o(t){y.push(t)}var l=r||"scheme start",_=0,m="",d=!1,g=!1,y=[];t:for(;(t[_-1]!=u||0==_)&&!this._isInvalid;){var w=t[_];switch(l){case"scheme start":if(!w||!f.test(w)){if(r){o("Invalid scheme.");break t}m="",l="no scheme";continue}m+=w.toLowerCase(),l="scheme";break;case"scheme":if(w&&v.test(w))m+=w.toLowerCase();else{if(":"!=w){if(r){if(u==w)break t;o("Code point not allowed in scheme: "+w);break t}m="",_=0,l="no scheme";continue}if(this._scheme=m,m="",r)break t;e(this._scheme)&&(this._isRelative=!0),l="file"==this._scheme?"relative":this._isRelative&&n&&n._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==w?(this._query="?",l="query"):"#"==w?(this._fragment="#",l="fragment"):u!=w&&"\t"!=w&&"\n"!=w&&"\r"!=w&&(this._schemeData+=a(w));break;case"no scheme":if(n&&e(n._scheme)){l="relative";continue}o("Missing scheme."),s.call(this);break;case"relative or authority":if("/"!=w||"/"!=t[_+1]){o("Expected /, got: "+w),l="relative";continue}l="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=n._scheme),u==w){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break t}if("/"==w||"\\"==w)"\\"==w&&o("\\ is an invalid code point."),l="relative slash";else if("?"==w)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query="?",this._username=n._username,this._password=n._password,l="query";else{if("#"!=w){var b=t[_+1],k=t[_+2];("file"!=this._scheme||!f.test(w)||":"!=b&&"|"!=b||u!=k&&"/"!=k&&"\\"!=k&&"?"!=k&&"#"!=k)&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop()),l="relative path";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment="#",this._username=n._username,this._password=n._password,l="fragment"}break;case"relative slash":if("/"!=w&&"\\"!=w){"file"!=this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),l="relative path";continue}"\\"==w&&o("\\ is an invalid code point."),l="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=w){o("Expected '/', got: "+w),l="authority ignore slashes";continue}l="authority second slash";break;case"authority second slash":if(l="authority ignore slashes","/"!=w){o("Expected '/', got: "+w);continue}break;case"authority ignore slashes":if("/"!=w&&"\\"!=w){l="authority";continue}o("Expected authority, got: "+w);break;case"authority":if("@"==w){d&&(o("@ already seen."),m+="%40"),d=!0;for(var I=0;I<m.length;I++){var R=m[I];if("\t"!=R&&"\n"!=R&&"\r"!=R)if(":"!=R||null!==this._password){var q=a(R);null!==this._password?this._password+=q:this._username+=q}else this._password="";else o("Invalid whitespace in authority.")}m=""}else{if(u==w||"/"==w||"\\"==w||"?"==w||"#"==w){_-=m.length,m="",l="host";continue}m+=w}break;case"file host":if(u==w||"/"==w||"\\"==w||"?"==w||"#"==w){2!=m.length||!f.test(m[0])||":"!=m[1]&&"|"!=m[1]?0==m.length?l="relative path start":(this._host=i.call(this,m),m="",l="relative path start"):l="relative path";continue}"\t"==w||"\n"==w||"\r"==w?o("Invalid whitespace in file host."):m+=w;break;case"host":case"hostname":if(":"!=w||g){if(u==w||"/"==w||"\\"==w||"?"==w||"#"==w){if(this._host=i.call(this,m),m="",l="relative path start",r)break t;continue}"\t"!=w&&"\n"!=w&&"\r"!=w?("["==w?g=!0:"]"==w&&(g=!1),m+=w):o("Invalid code point in host/hostname: "+w)}else if(this._host=i.call(this,m),m="",l="port","hostname"==r)break t;break;case"port":if(/[0-9]/.test(w))m+=w;else{if(u==w||"/"==w||"\\"==w||"?"==w||"#"==w||r){if(""!=m){var L=parseInt(m,10);L!=c[this._scheme]&&(this._port=L+""),m=""}if(r)break t;l="relative path start";continue}"\t"==w||"\n"==w||"\r"==w?o("Invalid code point in port: "+w):s.call(this)}break;case"relative path start":if("\\"==w&&o("'\\' not allowed in path."),l="relative path","/"!=w&&"\\"!=w)continue;break;case"relative path":if(u!=w&&"/"!=w&&"\\"!=w&&(r||"?"!=w&&"#"!=w))"\t"!=w&&"\n"!=w&&"\r"!=w&&(m+=a(w));else{"\\"==w&&o("\\ not allowed in relative path.");var U;(U=p[m.toLowerCase()])&&(m=U),".."==m?(this._path.pop(),"/"!=w&&"\\"!=w&&this._path.push("")):"."==m&&"/"!=w&&"\\"!=w?this._path.push(""):"."!=m&&("file"==this._scheme&&0==this._path.length&&2==m.length&&f.test(m[0])&&"|"==m[1]&&(m=m[0]+":"),this._path.push(m)),m="","?"==w?(this._query="?",l="query"):"#"==w&&(this._fragment="#",l="fragment")}break;case"query":r||"#"!=w?u!=w&&"\t"!=w&&"\n"!=w&&"\r"!=w&&(this._query+=h(w)):(this._fragment="#",l="fragment");break;case"fragment":u!=w&&"\t"!=w&&"\n"!=w&&"\r"!=w&&(this._fragment+=w)}_++}}function n(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function o(t,e){void 0===e||e instanceof o||(e=new o(String(e))),this._url=t,n.call(this);var s=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");r.call(this,s,null,e)}var l=!1;if(!t.forceJURL)try{var _=new URL("b","http://a");_.pathname="c%20d",l="http://a/c%20d"===_.href}catch(t){}if(!l){var c=Object.create(null);c.ftp=21,c.file=0,c.gopher=70,c.http=80,c.https=443,c.ws=80,c.wss=443;var p=Object.create(null);p["%2e"]=".",p[".%2e"]="..",p["%2e."]="..",p["%2e%2e"]="..";var u=void 0,f=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;o.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return""==this._username&&null==this._password||(t=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){n.call(this),r.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||r.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&r.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&r.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&r.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],r.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"==t[0]&&(t=t.slice(1)),r.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"==t[0]&&(t=t.slice(1)),r.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this._scheme+"://"+t:""}};var m=t.URL;m&&(o.createObjectURL=function(t){return m.createObjectURL.apply(m,arguments)},o.revokeObjectURL=function(t){m.revokeObjectURL(t)}),t.URL=o}}(window);""===document.location.hash&&(document.location=document.body.getAttribute("data-redirect-to"));var url=new URL(document.location),action=url.searchParams.get("a")||"browse",start=url.searchParams.get("s"),end=url.searchParams.get("e")||start;("browse"!==action||start&&start===end)&&(document.location=document.body.getAttribute("data-redirect-to")+document.location.hash),url.searchParams.set("cid",url.hash.substring(1)),url.hash="",document.location=url.toString();